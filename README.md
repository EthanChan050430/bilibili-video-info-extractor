# B站视频信息提取工具

## 📌 项目简介
这是一个用于提取B站(Bilibili)视频信息的Python工具，支持：
- 获取视频标题/简介
- 提取热门评论
- 下载音频并进行语音识别
- 支持短链接解析（如b23.tv）

## 📦 功能说明
| 功能 | 描述 |
|------|------|
| 视频信息提取 | 获取视频标题、简介等基础信息 |
| 评论抓取 | 提取前20条热门评论 |
| 音频下载 | 下载视频音频并转换为WAV格式 |
| 语音识别 | 使用Whisper模型将音频转为文字 |
| URL解析 | 支持常规链接、短链接、bv号直接输入 |

## 🚀 快速开始

### 1. 安装依赖
```bash
pip install requests re json urllib3 os subprocess shutil time sys
```

### 2. 运行脚本
```bash
python main.py
```

### 3. 使用示例
```
请输入B站视频链接: https://www.bilibili.com/video/BV123456789
```

## 📦 依赖说明
| 依赖项 | 说明 |
|--------|------|
| requests | 网络请求库 |
| whisper | 语音识别模型（自动安装） |
| yt-dlp | 视频下载工具（自动安装） |
| ffmpeg | 音频编码工具（自动下载） |

## 📌 注意事项
1. 需要网络连接（部分资源需科学上网）
2. 音频转文字可能需要较长时间（取决于视频长度）
3. Windows用户会自动下载ffmpeg和yt-dlp
4. 语音识别使用小模型（资源占用较低）

## 📌 代码结构
```
main.py
├── get_video_info()       # 获取视频基础信息
├── get_video_comments()   # 提取评论
├── extract_bvid()         # 解析BV号
├── audio_to_text()        # 音频转文字核心逻辑
└── download_utils()       # 自动安装工具
```

## 📌 常见问题
Q: 无法解析短链接？
A: 确保网络正常，尝试手动输入视频BV号

Q: 语音识别不准确？
A: 尝试使用更高质量的音频或更换模型（需额外安装）

Q: 下载超时？
A: 检查网络连接，可尝试更换镜像源

## 📌 贡献指南
欢迎提交issue或PR！
- 修复bug
- 增加功能（如支持更多视频格式）
- 优化解析算法

## 📝 许可证
本项目采用MIT许可证，详情见LICENSE文件